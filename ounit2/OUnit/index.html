<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OUnit (ounit2.OUnit)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">ounit2</a> &#x00BB; OUnit</nav><header class="odoc-preamble"><h1>Module <code><span>OUnit</span></code></h1><p>Unit test building blocks</p><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Maas-Maarten Zeeman</li></ul><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Sylvain Le Gall</li></ul></header><nav class="odoc-toc"><ul><li><a href="#assertions">Assertions</a></li><li><a href="#skipping-tests">Skipping tests</a></li><li><a href="#compare-functions">Compare Functions</a></li><li><a href="#bracket">Bracket</a></li><li><a href="#constructing-tests">Constructing Tests</a></li><li><a href="#retrieve-information-from-tests">Retrieve Information from Tests</a></li><li><a href="#performing-tests">Performing Tests</a></li></ul></nav><div class="odoc-content"><h3 id="assertions"><a href="#assertions" class="anchor"></a>Assertions</h3><p>Assertions are the basic building blocks of unittests.</p><div class="odoc-spec"><div class="spec value" id="val-assert_failure" class="anchored"><a href="#val-assert_failure" class="anchor"></a><code><span><span class="keyword">val</span> assert_failure : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Signals a failure. This will raise an exception with the specified string.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>signal a failure</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-assert_bool" class="anchored"><a href="#val-assert_bool" class="anchor"></a><code><span><span class="keyword">val</span> assert_bool : <span>string <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Signals a failure when bool is false. The string identifies the failure.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>signal a failure</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-(@?)" class="anchored"><a href="#val-(@?)" class="anchor"></a><code><span><span class="keyword">val</span> (@?) : <span>string <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Shorthand for assert_bool</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>to signal a failure</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-assert_string" class="anchored"><a href="#val-assert_string" class="anchor"></a><code><span><span class="keyword">val</span> assert_string : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Signals a failure when the string is non-empty. The string identifies the failure.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>signal a failure</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-assert_command" class="anchored"><a href="#val-assert_command" class="anchor"></a><code><span><span class="keyword">val</span> assert_command : <span>?exit_code:<span class="xref-unresolved">Unix</span>.process_status <span class="arrow">&#45;&gt;</span></span> <span>?sinput:<span>char <span class="xref-unresolved">Stdlib</span>.Stream.t</span> <span class="arrow">&#45;&gt;</span></span>
<span>?foutput:<span>(<span><span>char <span class="xref-unresolved">Stdlib</span>.Stream.t</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>?use_stderr:bool <span class="arrow">&#45;&gt;</span></span> <span>?env:<span>string array</span> <span class="arrow">&#45;&gt;</span></span>
<span>?verbose:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>assert_command prg args</code> Run the command provided.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">exit_code</span> <p>expected exit code</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">sinput</span> <p>provide this <code>char Stream.t</code> as input of the process</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">foutput</span> <p>run this function on output, it can contains an <code>assert_equal</code> to check it</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">use_stderr</span> <p>redirect <code>stderr</code> to <code>stdout</code></p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">env</span> <p>Unix environment</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">verbose</span> <p>if failed, dump stdout/stderr of the process to stderr</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 1.1.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-assert_equal" class="anchored"><a href="#val-assert_equal" class="anchor"></a><code><span><span class="keyword">val</span> assert_equal : <span>?cmp:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>?printer:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
<span>?pp_diff:<span>(<span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>?msg:string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>assert_equal expected real</code> Compares two values, when they are not equal a failure is signaled.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cmp</span> <p>customize function to compare, default is <code>=</code></p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">printer</span> <p>value printer, don't print value otherwise</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pp_diff</span> <p>if not equal, ask a custom display of the difference using <code>diff fmt exp real</code> where <code>fmt</code> is the formatter to use</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">msg</span> <p>custom message to identify the failure</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>signal a failure</p></li></ul><ul class="at-tags"><li class="version"><span class="at-tag">version</span> 1.1.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-assert_raises" class="anchored"><a href="#val-assert_raises" class="anchor"></a><code><span><span class="keyword">val</span> assert_raises : <span>?msg:string <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Asserts if the expected exception was raised.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">msg</span> <p>identify the failure</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>description</p></li></ul></div></div><h3 id="skipping-tests"><a href="#skipping-tests" class="anchor"></a>Skipping tests</h3><p>In certain condition test can be written but there is no point running it, because they are not significant (missing OS features for example). In this case this is not a failure nor a success. Following functions allow you to escape test, just as assertion but without the same error status.</p><p>A test skipped is counted as success. A test todo is counted as failure.</p><div class="odoc-spec"><div class="spec value" id="val-skip_if" class="anchored"><a href="#val-skip_if" class="anchor"></a><code><span><span class="keyword">val</span> skip_if : <span>bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>skip cond msg</code> If <code>cond</code> is true, skip the test for the reason explain in <code>msg</code>. For example <code>skip_if (Sys.os_type = &quot;Win32&quot;) &quot;Test a doesn't run on
    windows&quot;</code>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 1.0.3</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-todo" class="anchored"><a href="#val-todo" class="anchor"></a><code><span><span class="keyword">val</span> todo : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>The associated test is still to be done, for the reason given.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 1.0.3</li></ul></div></div><h3 id="compare-functions"><a href="#compare-functions" class="anchor"></a>Compare Functions</h3><div class="odoc-spec"><div class="spec value" id="val-cmp_float" class="anchored"><a href="#val-cmp_float" class="anchor"></a><code><span><span class="keyword">val</span> cmp_float : <span>?epsilon:float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Compare floats up to a given relative error.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">epsilon</span> <p>if the difference is smaller <code>epsilon</code> values are equal</p></li></ul></div></div><h3 id="bracket"><a href="#bracket" class="anchor"></a>Bracket</h3><p>A bracket is a functional implementation of the commonly used setUp and tearDown feature in unittests. It can be used like this:</p><p><code>&quot;MyTestCase&quot; &gt;:: (bracket test_set_up test_fun test_tear_down)</code></p><div class="odoc-spec"><div class="spec value" id="val-bracket" class="anchored"><a href="#val-bracket" class="anchor"></a><code><span><span class="keyword">val</span> bracket : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>bracket set_up test tear_down</code> The <code>set_up</code> function runs first, then the <code>test</code> function runs and at the end <code>tear_down</code> runs. The <code>tear_down</code> function runs even if the <code>test</code> failed and help to clean the environment.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bracket_tmpfile" class="anchored"><a href="#val-bracket_tmpfile" class="anchor"></a><code><span><span class="keyword">val</span> bracket_tmpfile : <span>?prefix:string <span class="arrow">&#45;&gt;</span></span> <span>?suffix:string <span class="arrow">&#45;&gt;</span></span> <span>?mode:<span><span class="xref-unresolved">Stdlib</span>.open_flag list</span> <span class="arrow">&#45;&gt;</span></span>
<span><span>(<span><span>(string * <span class="xref-unresolved">Stdlib</span>.out_channel)</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>bracket_tmpfile test</code> The <code>test</code> function takes a temporary filename and matching output channel as arguments. The temporary file is created before the test and removed after the test.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">prefix</span> <p>see <code>Filename.open_temp_file</code></p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">suffix</span> <p>see <code>Filename.open_temp_file</code></p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">mode</span> <p>see <code>Filename.open_temp_file</code></p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 1.1.0</li></ul></div></div><h3 id="constructing-tests"><a href="#constructing-tests" class="anchor"></a>Constructing Tests</h3><div class="odoc-spec"><div class="spec type" id="type-test_fun" class="anchored"><a href="#type-test_fun" class="anchor"></a><code><span><span class="keyword">type</span> test_fun</span><span> = <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>The type of test function</p></div></div><div class="odoc-spec"><div class="spec type" id="type-test" class="anchored"><a href="#type-test" class="anchor"></a><code><span><span class="keyword">type</span> test</span><span> = </span></code><table><tr id="type-test.TestCase" class="anchored"><td class="def variant constructor"><a href="#type-test.TestCase" class="anchor"></a><code><span>| </span><span><span class="constructor">TestCase</span> <span class="keyword">of</span> <a href="#type-test_fun">test_fun</a></span></code></td></tr><tr id="type-test.TestList" class="anchored"><td class="def variant constructor"><a href="#type-test.TestList" class="anchor"></a><code><span>| </span><span><span class="constructor">TestList</span> <span class="keyword">of</span> <span><a href="#type-test">test</a> list</span></span></code></td></tr><tr id="type-test.TestLabel" class="anchored"><td class="def variant constructor"><a href="#type-test.TestLabel" class="anchor"></a><code><span>| </span><span><span class="constructor">TestLabel</span> <span class="keyword">of</span> string * <a href="#type-test">test</a></span></code></td></tr></table></div><div class="spec-doc"><p>The type of tests</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;:)" class="anchored"><a href="#val-(&gt;:)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;:) : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test">test</a></span></code></div><div class="spec-doc"><p>Create a TestLabel for a test</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;::)" class="anchored"><a href="#val-(&gt;::)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;::) : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test_fun">test_fun</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test">test</a></span></code></div><div class="spec-doc"><p>Create a TestLabel for a TestCase</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;:::)" class="anchored"><a href="#val-(&gt;:::)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;:::) : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-test">test</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test">test</a></span></code></div><div class="spec-doc"><p>Create a TestLabel for a TestList</p></div></div><p>Some shorthands which allows easy test construction.</p><p>Examples:</p><ul><li><code>&quot;test1&quot; &gt;: TestCase((fun _ -&gt; ()))</code> =&gt; <code>TestLabel(&quot;test2&quot;, TestCase((fun _ -&gt; ())))</code></li><li><code>&quot;test2&quot; &gt;:: (fun _ -&gt; ())</code> =&gt; <code>TestLabel(&quot;test2&quot;, TestCase((fun _ -&gt; ())))</code></li><li><code>&quot;test-suite&quot; &gt;::: [&quot;test2&quot; &gt;:: (fun _ -&gt; ());]</code> =&gt; <code>TestLabel(&quot;test-suite&quot;, TestSuite([TestLabel(&quot;test2&quot;,
                                       TestCase((fun _ -&gt; ())))]))</code></li></ul><div class="odoc-spec"><div class="spec value" id="val-test_decorate" class="anchored"><a href="#val-test_decorate" class="anchor"></a><code><span><span class="keyword">val</span> test_decorate : <span><span>(<span><a href="#type-test_fun">test_fun</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test_fun">test_fun</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test">test</a></span></code></div><div class="spec-doc"><p><code>test_decorate g tst</code> Apply <code>g</code> to test function contains in <code>tst</code> tree.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 1.0.3</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-test_filter" class="anchored"><a href="#val-test_filter" class="anchor"></a><code><span><span class="keyword">val</span> test_filter : <span>?skip:bool <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> option</span></span></code></div><div class="spec-doc"><p><code>test_filter paths tst</code> Filter test based on their path string representation.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">skip</span> <p>if set, just use <code>skip_if</code> for the matching tests.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 1.0.3</li></ul></div></div><h3 id="retrieve-information-from-tests"><a href="#retrieve-information-from-tests" class="anchor"></a>Retrieve Information from Tests</h3><div class="odoc-spec"><div class="spec value" id="val-test_case_count" class="anchored"><a href="#val-test_case_count" class="anchor"></a><code><span><span class="keyword">val</span> test_case_count : <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns the number of available test cases</p></div></div><div class="odoc-spec"><div class="spec type" id="type-node" class="anchored"><a href="#type-node" class="anchor"></a><code><span><span class="keyword">type</span> node</span><span> = </span></code><table><tr id="type-node.ListItem" class="anchored"><td class="def variant constructor"><a href="#type-node.ListItem" class="anchor"></a><code><span>| </span><span><span class="constructor">ListItem</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-node.Label" class="anchored"><td class="def variant constructor"><a href="#type-node.Label" class="anchor"></a><code><span>| </span><span><span class="constructor">Label</span> <span class="keyword">of</span> string</span></code></td></tr></table></div><div class="spec-doc"><p>Types which represent the path of a test</p></div></div><div class="odoc-spec"><div class="spec type" id="type-path" class="anchored"><a href="#type-path" class="anchor"></a><code><span><span class="keyword">type</span> path</span><span> = <span><a href="#type-node">node</a> list</span></span></code></div><div class="spec-doc"><p>The path to the test (in reverse order).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-string_of_node" class="anchored"><a href="#val-string_of_node" class="anchor"></a><code><span><span class="keyword">val</span> string_of_node : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Make a string from a node</p></div></div><div class="odoc-spec"><div class="spec value" id="val-string_of_path" class="anchored"><a href="#val-string_of_path" class="anchor"></a><code><span><span class="keyword">val</span> string_of_path : <span><a href="#type-path">path</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Make a string from a path. The path will be reversed before it is tranlated into a string</p></div></div><div class="odoc-spec"><div class="spec value" id="val-test_case_paths" class="anchored"><a href="#val-test_case_paths" class="anchor"></a><code><span><span class="keyword">val</span> test_case_paths : <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-path">path</a> list</span></span></code></div><div class="spec-doc"><p>Returns a list with paths of the test</p></div></div><h3 id="performing-tests"><a href="#performing-tests" class="anchor"></a>Performing Tests</h3><div class="odoc-spec"><div class="spec type" id="type-test_result" class="anchored"><a href="#type-test_result" class="anchor"></a><code><span><span class="keyword">type</span> test_result</span><span> = </span></code><table><tr id="type-test_result.RSuccess" class="anchored"><td class="def variant constructor"><a href="#type-test_result.RSuccess" class="anchor"></a><code><span>| </span><span><span class="constructor">RSuccess</span> <span class="keyword">of</span> <a href="#type-path">path</a></span></code></td></tr><tr id="type-test_result.RFailure" class="anchored"><td class="def variant constructor"><a href="#type-test_result.RFailure" class="anchor"></a><code><span>| </span><span><span class="constructor">RFailure</span> <span class="keyword">of</span> <a href="#type-path">path</a> * string</span></code></td></tr><tr id="type-test_result.RError" class="anchored"><td class="def variant constructor"><a href="#type-test_result.RError" class="anchor"></a><code><span>| </span><span><span class="constructor">RError</span> <span class="keyword">of</span> <a href="#type-path">path</a> * string</span></code></td></tr><tr id="type-test_result.RSkip" class="anchored"><td class="def variant constructor"><a href="#type-test_result.RSkip" class="anchor"></a><code><span>| </span><span><span class="constructor">RSkip</span> <span class="keyword">of</span> <a href="#type-path">path</a> * string</span></code></td></tr><tr id="type-test_result.RTodo" class="anchored"><td class="def variant constructor"><a href="#type-test_result.RTodo" class="anchor"></a><code><span>| </span><span><span class="constructor">RTodo</span> <span class="keyword">of</span> <a href="#type-path">path</a> * string</span></code></td></tr></table></div><div class="spec-doc"><p>The possible results of a test</p></div></div><div class="odoc-spec"><div class="spec type" id="type-test_event" class="anchored"><a href="#type-test_event" class="anchor"></a><code><span><span class="keyword">type</span> test_event</span><span> = </span></code><table><tr id="type-test_event.EStart" class="anchored"><td class="def variant constructor"><a href="#type-test_event.EStart" class="anchor"></a><code><span>| </span><span><span class="constructor">EStart</span> <span class="keyword">of</span> <a href="#type-path">path</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A test start.</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_event.EEnd" class="anchored"><td class="def variant constructor"><a href="#type-test_event.EEnd" class="anchor"></a><code><span>| </span><span><span class="constructor">EEnd</span> <span class="keyword">of</span> <a href="#type-path">path</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A test end.</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_event.EResult" class="anchored"><td class="def variant constructor"><a href="#type-test_event.EResult" class="anchor"></a><code><span>| </span><span><span class="constructor">EResult</span> <span class="keyword">of</span> <a href="#type-test_result">test_result</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Result of a test.</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Events which occur during a test run.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-test_results" class="anchored"><a href="#type-test_results" class="anchor"></a><code><span><span class="keyword">type</span> test_results</span><span> = <span><a href="#type-test_result">test_result</a> list</span></span></code></div><div class="spec-doc"><p>Results of a test run.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-perform_test" class="anchored"><a href="#val-perform_test" class="anchor"></a><code><span><span class="keyword">val</span> perform_test : <span><span>(<span><a href="#type-test_event">test_event</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test_results">test_results</a></span></code></div><div class="spec-doc"><p>Perform the test, allows you to build your own test runner</p></div></div><div class="odoc-spec"><div class="spec value" id="val-run_test_tt" class="anchored"><a href="#val-run_test_tt" class="anchor"></a><code><span><span class="keyword">val</span> run_test_tt : <span>?verbose:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test_results">test_results</a></span></code></div><div class="spec-doc"><p>A simple text based test runner.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">verbose</span> <p>print verbose message</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-run_test_tt_main" class="anchored"><a href="#val-run_test_tt_main" class="anchor"></a><code><span><span class="keyword">val</span> run_test_tt_main : <span>?arg_specs:<span><span>(<span class="xref-unresolved">Stdlib</span>.Arg.key * <span class="xref-unresolved">Stdlib</span>.Arg.spec * <span class="xref-unresolved">Stdlib</span>.Arg.doc)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
<span>?set_verbose:<span>(<span>bool <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test_results">test_results</a></span></code></div><div class="spec-doc"><p>Main version of the text based test runner. It reads the supplied command line arguments to set the verbose level and limit the number of test to run.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">arg_specs</span> <p>add extra command line arguments</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">set_verbose</span> <p>call a function to set verbosity</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">fexit</span> <p>call a final function after test, by default exit 1.</p></li></ul><ul class="at-tags"><li class="version"><span class="at-tag">version</span> 1.1.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-ounit2_of_ounit1" class="anchored"><a href="#val-ounit2_of_ounit1" class="anchor"></a><code><span><span class="keyword">val</span> ounit2_of_ounit1 : <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <a href="../OUnit2/index.html#type-test">OUnit2.test</a></span></code></div></div></div></body></html>